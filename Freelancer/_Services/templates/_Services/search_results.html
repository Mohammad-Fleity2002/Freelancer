{% extends "base.html" %} 
{% block title %}
<title>Search result</title>
{% endblock title %} 

{% block style %}
<style>
    .service_img {
        width: 400px;
        height: 300px;
    }

    .bg_radial_2 {
        background: rgb(22, 13, 25);
        background: linear-gradient(90deg, rgba(22, 13, 25, 1) 0%, rgba(135, 81, 153, 1) 50%, rgba(225, 135, 255, 1) 100%);
    }

    .text_radial_2 {
        color: rgb(22, 13, 25);
        color: linear-gradient(90deg, rgba(22, 13, 25, 1) 0%, rgba(135, 81, 153, 1) 50%, rgba(225, 135, 255, 1) 100%);
    }
</style>
{% endblock style %} 

{% block content %}
<body class="bg_radial_2">
    <section class="container ">
        <form action="{% url '_Services:search_service' %}" method="POST">
            {% csrf_token %}
            <div class="container-md ">
                <div class="row text-center align-item-center justify-content-center">
                    <div class="container-md align-self-center">
                        <div class="row align-item-center justify-content-center mt-2 mb-4">
                            <div class="col-5 align-self-center">
                                <select name="service_type" class="form-select" id="type">
                                    <option value="" {% if not service_type %} selected {% endif %}>Select Type</option>
                                    {% for service_type in service_types %}
                                        <option value="{{ service_type.code_type }}" {% if service_type.code_type == selected_service_type %} selected {% endif %}>{{ service_type.type_title }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="col-5 align-self-center">
                                <select name="area" class="form-select" id="area">
                                    <option value="" {% if not area %} selected {% endif %}>Select Area</option>
                                    {% for area in areas %}
                                        <option value="{{ area.code_area }}" {% if area.code_area == selected_area %} selected {% endif %}>{{ area.area_name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="col-1 align-self-center">
                                <div class="text-center">
                                    <button type="submit" class="btn btn-gold px-3">Search</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <div class="container-lg">
            {% if services %}
                {% for service in services %}
                    <div class="container-md row border border-1 border-purple my-2 py-1 px-2" style="background:rgb(250,250,250,0.6)">
                        <div class="col-8">
                            <h5 class="text-white d-inline-block p-1 m-0" style="background-color:rgba(225, 135, 255, 1)">
                                {{ service.freelancer.username }}
                            </h5>
                            <p class="font-italic font-weight-bold p-0 m-0">
                                {{ service.freelancer.email }}
                            </p>
                            <p class="p-0 m-0">{{ service.service_location }}</p>
                            <h6 class="font-weight-light p-0 m-0">{{ service.service_title }}</h6>
                            <p class="font-italic font-weight-light py-1 my-1 justify-content-around">{{ service.service_desc }}</p>

                            <p class="container text-center">
                                <button class="text-white btn btn-md m-0" style="background-color:rgba(22, 13, 25, 1)">
                                    <a href="#" class="text-white" style="text-decoration: none;">
                                        Feedbacks
                                    </a>
                                </button>
                            </p>
                        </div>
                    </div>
                {% endfor %}
            {% endif %}
        </div>
    </section>
</body>
{% endblock content %}
